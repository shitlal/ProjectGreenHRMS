<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Application Form</title>
<link rel="stylesheet" href="styles.css" />

<style>
table, th, td {
  border: 1px solid white;
  border-collapse: collapse;
}
th, td {
  background-color: #96D4D4;
}

body {
  background-color: #ccc;
}

.container {
  max-width: 900px;
  margin:  auto;
}

  h1 {
            color: seagreen;
            }

.dropbtn {
 background-color: rgb(255, 0, 128);
  border: transparent solid 2px;
  padding: 5px 5px;
  color: white;
  border-radius: 8px;
  transition: 0.3s ease-in;
}



#myInput {
  box-sizing: border-box;

  background-position: 14px 12px;
  background-repeat: no-repeat;
  font-size: 16px;
  padding: 14px 20px 12px 45px;
  border: none;
  border-bottom: 1px solid #ddd;
}

#myInput:focus {outline: 3px solid #ddd;}

.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f6f6f6;
  min-width: 200px;
  overflow: auto;
  border: 1px solid #ddd;
  z-index: 1;
}

.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

.dropdown a:hover {background-color: #ddd;}

.show {display: block;}

  
  .form_container {
  margin-top: -10%;
  display: table-row;
  grid-template-rows: repeat(auto-fit, minmax(100px, 1fr));
  gap: 20px;
  width: 100px;
}
.form_control {
  display: flex;
  flex-direction: row;
}

input,
select,
textarea {
  padding: 6px 6px;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 15px;
  width: 150px;
}
label1{
	 background-color: rgb(0, 128, 192);
  border: transparent solid 2px;
  padding: 5px 5px;
  color: white;
  border-radius: 8px;
  transition: 0.3s ease-in;
  
}
  
  .form_container_form {
	   
            display: none; /* Initially hidden */
            padding: 20px;
            border: 2px solid #333;
            width: 900px;
            margin: 0 auto;
        }
        
         th {
            cursor: pointer;
        }
        
      .form_container_Round2 {
	   
            display: none; /* Initially hidden */
            padding: 20px;
            border: 2px solid #333;
            width: 900px;
            margin: 0 auto;
        }
        
         th {
            cursor: pointer;
        }
        
        .form_container_Round3 {
	   
            display: none; /* Initially hidden */
            padding: 20px;
            border: 2px solid #333;
            width: 900px;
            margin: 0 auto;
        }
        
         th {
            cursor: pointer;
        }
        
        table{
   overflow-y:scroll;
   
   overflow-x:scroll;
   height:300px;
   display:block;
   }
   
        
</style>

  </head>
  
  <body>
	   <div class="container">
		  <br>
        <h1><i>Recruitment Page</i> </h1>
        
        <br>
    
<br>
 <div>

  <label1  for=" ">Job_Code:</label1>
   
  <select name="career" id="career"  onchange="fetchDataForDropdown()"  >
      <option
       th:each="career : ${career}" 
       th:text="${career.jobCode}"
       th:value="${career.jobCode}" 
     
          </option>
       
  </select>
 
  <!--<button4 name="submit" type="submit" value="save"/button4>-->
  <!--<button type="submit" class="button1" id="formaction" th:onclick="Dropdowns(show{C01213)})"  >click </button>-->
  
  <br><br>
  
          <form action="" class="form_container" id="formaction" >
			 		 			  
			   <br>
	 <label for="Position"><b> Position</b></label>
    <input type="text" placeholder="Position" name="position" id="position" readonly >
    
    
     <label for="Location"><b>Location</b></label>
    <input type="text" placeholder="Location" name="location" id="location" readonly>
    
    <label for="Description"><b>Description</b></label>
    <input type="Description" placeholder="Description" name="description" id="description" readonly>
    
    
     <label for="Experience"><b>Experience</b></label>
    <input type="Experience" placeholder="Experience" name="experience" id="experience" readonly>
    
   
  </form>
  </form>
 
 </div>
  
  <br>
  <br>
  
    <div th:switch="${Recruit}" class="container my-5"> 
		  <div class="col-md-10">
                <h2 th:case="null">No record found !!</h2>
                <div th:case="*">

  
   <table style="width:100%">
  <tr class="header">
   <th style="width:10%;" >candidateid</th>
    <th style="width:10%;">candidatename</th>
     <th style="width:20%;">current_location</th>
     <th style="width:20%;">cand_experience</th>
      <th style="width:20%;">lastinterview_round</th>
       <th style="width:20%;">selection_status</th>
                  </tr>
  

    <!--<td>01</td>
    <td>C013677</td>
     <td>Java Developer</td>
    <td>Java Developer</td>
    <td>Mumbai</td>
    <td>01</td>
    <td>-->
		 
		  <tr th:each="Recruit : ${Recruit}">
         
        <td th:text="${Recruit.candidateid}" onclick="toggleForm()" ></td>
        <td th:text="${Recruit.candidatename}" onclick="toggleForm()" ></td>
        <td th:text="${Recruit.current_location}"></td>
        <td th:text="${Recruit.cand_experience}"></td>
        <td th:text="${Recruit.lastinterview_round}"></td>
        <td th:text="${Recruit.selection_status}"></td>
        
     <!--   <td th:text="${Recruit.round_1}"></td>-->
        
        </tr>
		 
    </table>
    
<!--    <input type="text" id="id" th:value="${Recruitcount}">-->
    
     <div class="button_container">

 <button type="submit" id="myButton" onclick="openaddcandWindow()">Add Candidate</button> 
          
         </div>
    	   </div></div></div>
    	   <br>
    	   

	   <div>
	<form action="" class="form_container_form" id="formaction">
			<label1 for=" "><b>Interview Round_1:</b></label1>
			<br>
			<br>
			
			<label for="candidatename"><b>candidatename</b></label>
			<input type="text" placeholder="candidatename" name="candidatename" id="candidatename"  th:value="${candidatename}">
			
			<label for="Assigned_To"><b> Assigned_To</b></label>
			<input type="text" placeholder="Assigned_To" name="Assigned_To" id="Assigned_To">
		
		
			<label for="Calendar"><b>Calendar</b></label>
			<input type="date" placeholder="Calendar" name="Calendar">
			
			
		   <button type="button" onclick="openform()" >select</button>
		   <button type="button" onclick="toggleForm()">Reject</button>
		 
		   </form>
		   </div>
		   <br>
		   <br>
		
		<div>
	<form action="" class="form_container_Round2" id="formaction1">
			<label1 for=" "><b>Interview Round_2:</b></label1>
			<br>
			<br>
			<label for="Assigned_To"><b> Assigned_To</b></label>
			<input type="text" placeholder="Assigned_To" name="Assigned_To" id="Assigned_To">
		
		
			<label for="Calendar"><b>Calendar</b></label>
			<input type="date" placeholder="Calendar" name="Calendar">
			
			
			<button type="button" onclick="openformaction()">select</button>
			<button type="button" onclick="openform()" >Reject</button>
			</form>
			</div>
			
			<br>
			
			<div>
	<form action="" class="form_container_Round3" id="formaction1">
			<label1 for=" "><b>Interview Round_3:</b></label1>
			<br>
			<br>
			<label for="Assigned_To"><b> Assigned_To</b></label>
			<input type="text" placeholder="Assigned_To" name="Assigned_To" id="Assigned_To">
		
		
			<label for="Calendar"><b>Calendar</b></label>
			<input type="date" placeholder="Calendar" name="Calendar">
			
			
			<button type="button" onclick="openformaction()"  >select</button>
			<button type="button" onclick="openformaction()" >Reject</button>
			</form>
			</div>
			
    	  
       
    	 	   
    	<script>
			function openaddcandWindow() {
				var w = 480, h = 340;

				if (document.getElementById) {
					w = screen.availWidth;
					h = screen.availHeight;
				}

				var popW = 700, popH = 500;

				var leftPos = (w - popW) / 2;
				var topPos = (h - popH) / 2;

				msgWindow = window.open('createCand', 'popup', 'width=' + popW + ',height=' + popH + ',top=' + topPos + ',left=' + leftPos + ', scrollbars=yes');
			}
        	
        	function fetchDataForDropdown() {
        var selectedValue = document.getElementById('career').value;

        // Make an AJAX call to the Spring Boot controller to get data based on the selected value
        fetch('/Recruitment/show/' + selectedValue)
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                // Update the text fields with the fetched data
                document.getElementById('position').value = data.position;
                document.getElementById('location').value = data.location;
                document.getElementById('description').value = data.description;
                document.getElementById('experience').value = data.experience;
            })
            .catch(error => {
                console.error('Error:', error);
            });
    }
        	
        	  function toggleForm() {
					const form_container_form = document.querySelector('.form_container_form');
					form_container_form.style.display = (form_container_form.style.display = 'none') ? 'block' : 'none';
				}
				
				  function openform() {
					const form_container_Round2 = document.querySelector('.form_container_Round2');
					form_container_Round2.style.display = (form_container_Round2.style.display == 'none') ? 'block' : 'none';
				}
				
				 function openformaction() {
					const form_container_Round3 = document.querySelector('.form_container_Round3');
					form_container_Round3.style.display = (form_container_Round3.style.display == 'none') ? 'block' : 'none';
				}
	        			
		</script>

 </body>
</html>